---
title: Tareas Cron (Automatizaci√≥n)
description: Configuraci√≥n del planificador de tareas de Laravel.
---

import { Steps, Tabs, TabItem, Card } from '@astrojs/starlight/components';

# ‚è∞ Cron - Planificaci√≥n de Tareas

Laravel incluye un potente planificador de tareas que permite ejecutar comandos de artisan en intervalos espec√≠ficos. Para que funcione, el sistema operativo debe llamar al comando `schedule:run` cada minuto.

---

## ‚öôÔ∏è Configuraci√≥n del Crontab

Debes agregar una entrada al crontab del usuario que ejecuta el servidor web (usualmente `www-data` o tu usuario de despliegue).

<Steps>

1.  **Abrir el editor de crontab**
    ```bash
    crontab -e
    ```

2.  **Agregar la l√≠nea del planificador**
    Pega lo siguiente al final del archivo, reemplazando `/ruta/al/proyecto` por la ruta absoluta de tu backend:

    ```bash
    * * * * * cd /var/www/csdocs-core && php artisan schedule:run >> /dev/null 2>&1
    ```

</Steps>

---

## üìã Tareas Automatizadas en CSDOCS

El sistema utiliza este comando para:

- Limpiar tokens expirados.
- Procesar env√≠os programados.
- Generar reportes autom√°ticos.
- Sincronizar metadatos de documentos.

---

## üõ†Ô∏è Comandos de Depuraci√≥n

Si quieres probar el planificador manualmente sin esperar al minuto:

```bash
php artisan schedule:list
# O para ejecutarlo forzadamente:
php artisan schedule:work
```

<Card title="Nota de Producci√≥n" icon="approve-check-circle">
  Aseg√∫rate de que el usuario del crontab tenga permisos de escritura en la carpeta `storage/logs` del proyecto.
</Card>
