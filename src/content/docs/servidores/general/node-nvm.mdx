---
title: Node.js y NVM
description: Gesti√≥n de versiones de Node para los frontends de CSDOCS.
---

import { Steps, Tabs, TabItem, Card } from '@astrojs/starlight/components';

# üì¶ Node.js con NVM

Los frontends de CSDOCS requieren versiones espec√≠ficas de Node.js (**v20** para aplicaciones cliente y **v22** para el n√∫cleo). La forma m√°s segura de gestionar esto es mediante **NVM** (Node Version Manager).

---

## üõ†Ô∏è Instalaci√≥n de NVM

Ejecuta el script oficial de instalaci√≥n:

```bash
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash
```

**Importante:** Reinicia tu terminal o recarga tu perfil para activar los comandos:
```bash
source ~/.bashrc
```

---

## üöÄ Gesti√≥n de Versiones

<Steps>

1.  **Instalar versiones necesarias**
    ```bash
    nvm install 20
    nvm install 22
    ```

2.  **Cambiar entre versiones**
    Para trabajar en el Core:
    ```bash
    nvm use 22
    ```
    Para trabajar en Control de Gesti√≥n / Archiv√≠stica:
    ```bash
    nvm use 20
    ```

</Steps>

---

## üîß Resoluci√≥n de Problemas Comunes

### Errores de Peer Dependencies
Al instalar paquetes en CSDOCS, es com√∫n usar el flag `--legacy-peer-deps` debido a dependencias de Angular y CKEditor:

```bash
npm install --legacy-peer-deps
```

### Memoria Insuficiente al Compilar
Si el proceso de `build` falla en servidores peque√±os (menos de 2GB RAM), aumenta el l√≠mite de memoria de Node:

```bash
export NODE_OPTIONS="--max-old-space-size=2048"
```

<Card title="Tip" icon="star">
  Crea archivos `.nvmrc` en la ra√≠z de cada proyecto para que nvm reconozca autom√°ticamente la versi√≥n con solo ejecutar `nvm use`.
</Card>
